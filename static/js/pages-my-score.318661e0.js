(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-my-score"],{"09b8":function(t,e,i){var s=i("8700");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var a=i("4f06").default;a("be2a9980",s,!0,{sourceMap:!1,shadowMode:!1})},1362:function(t,e,i){"use strict";i.r(e);var s=i("bb37"),a=i("bc96");for(var n in a)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(n);i("7289");var o=i("f0c5"),c=Object(o["a"])(a["default"],s["b"],s["c"],!1,null,"79622c4f",null,!1,s["a"],void 0);e["default"]=c.exports},7289:function(t,e,i){"use strict";var s=i("09b8"),a=i.n(s);a.a},8700:function(t,e,i){var s=i("24fb");e=s(!1),e.push([t.i,".page[data-v-79622c4f]{\n\t/* height: calc(100vh); */}.withdrawDesc[data-v-79622c4f]{background-color:#fff;box-shadow:0 4px 10px rgba(26,26,26,.2);color:#494949;border-radius:%?16?%}.cu-form-group[data-v-79622c4f]{padding:unset}.cu-form-group+.cu-form-group[data-v-79622c4f]{border-top:unset}.cu-form-group .title[data-v-79622c4f]{width:%?280?%;font-weight:600;font-size:%?28?%}.paymentBorder[data-v-79622c4f]{flex:1;border:%?1?% solid #e0e0e0;padding:%?8?%;border-radius:%?8?%;height:%?56?%;line-height:%?40?%}.btn-border[data-v-79622c4f]{border:%?1?% solid #e9e9e9}",""]),t.exports=e},bb37:function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){}));var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-uni-view",{staticClass:"bg-white page"},[s("cu-custom",{attrs:{bgColor:"bg-white",isBack:!0}},[s("template",{attrs:{slot:"content"},slot:"content"},[t._v(t._s(t.$t("common.score")))])],2),s("v-uni-view",{staticClass:"padding-lg"},[s("v-uni-image",{staticStyle:{width:"100%"},attrs:{src:i("d339"),mode:"widthFix"}}),s("v-uni-view",{staticClass:"margin-top text-center padding text-lg"},[s("v-uni-view",{staticClass:"text-bold"},[s("v-uni-text",{staticClass:"margin-right-sm"},[t._v(t._s(t.$t("my.Myscore"))+":")]),s("v-uni-text",{staticStyle:{"text-decoration":"underline"}},[t._v(t._s(t.my_score))])],1)],1),s("v-uni-view",{staticClass:"text-center padding-xs text-bold text-black"},[t._v(t._s(t.$t("my.CHOOSEEXCHANGESCORE")))]),s("v-uni-view",{staticClass:"grid col-2 text-center"},t._l(t.exchangeData,(function(e,i){return s("v-uni-view",{staticClass:"padding-xs"},[s("v-uni-button",{staticClass:"cu-btn block btn-border",class:t.exScore==i?"bg-gradual-blue":"bg-gray",attrs:{"data-score":i},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.setScore.apply(void 0,arguments)}}},[t._v(t._s(i)+"($"+t._s(e)+")")])],1)})),1),s("v-uni-view",{staticClass:"flex flex-direction margin-top-sm"},[s("v-uni-button",{staticClass:"cu-btn bg-blue margin-tb-sm lg",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.doOk.apply(void 0,arguments)}}},[t._v(t._s(t.$t("common.OK")))])],1),s("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.scorelist.length,expression:"scorelist.length"}],staticClass:"grid col-4 text-bold text-black text-center border-topuptop padding"},[s("v-uni-view",[t._v(t._s(t.$t("common.time")))]),s("v-uni-view",[t._v(t._s(t.$t("common.score")))]),s("v-uni-view",[t._v(t._s(t.$t("home.Amount")))]),s("v-uni-view",[t._v(t._s(t.$t("common.STATE")))])],1),s("v-uni-view",{staticClass:"padding-left padding-right "},t._l(t.scorelist,(function(e,i){return s("v-uni-view",{staticClass:"grid col-4 text-center text-sm text-black bg-gray margin-bottom-sm"},[s("v-uni-view",[t._v(t._s(e.createtime))]),s("v-uni-view",[t._v(t._s(e.score))]),s("v-uni-view",[t._v("$"+t._s(e.money))]),s("v-uni-view",{class:t.score_state_color[e.status]},[t._v(t._s(t.score_state_text[e.status]))])],1)})),1),s("v-uni-view",{staticClass:"cu-modal",class:"noMoney"==t.modalName?"show":""},[s("v-uni-view",{staticClass:"cu-dialog"},[s("v-uni-view",{staticClass:"padding-xl"},[t._v(t._s(t.$t("my.nocashablebalance"))),s("v-uni-button",{staticClass:"cu-btn bg-blue margin-tb-sm lg",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goBack.apply(void 0,arguments)}}},[t._v(t._s(t.$t("my.Back")))])],1)],1)],1),s("v-uni-view",{staticClass:"cu-modal",class:"submitSuccess"==t.modalName?"show":""},[s("v-uni-view",{staticClass:"cu-dialog",staticStyle:{"background-color":"unset","border-radius":"unset"}},[s("v-uni-view",{staticClass:"padding-lg bg-white",staticStyle:{"border-radius":"8upx"}},[s("v-uni-view",{staticClass:"text-blackblue text-bold text-center text-xl padding-xs"},[t._v("UID:"+t._s(t.id))]),s("v-uni-view",{staticClass:"text-blackblue text-bold text-center text-xl padding-bottom padding-top-lg"},[t._v(t._s(t.$t("my.successfulExchange")))]),s("v-uni-view",{staticClass:"text-bold text-center padding-sm text-xl",staticStyle:{color:"#0066ff"}},[s("v-uni-text",{staticClass:"margin-right-xs text-xxl"},[t._v("$"+t._s(t.exchangeData[t.exScore]))])],1),s("v-uni-view",{staticClass:"text-blackblue padding-lr-lg"},[t._v(t._s(t.$t("my.checkyourbalancelater")))]),s("v-uni-view",{staticClass:"margin-top-xl text-blackblue text-center"},[t._v(t._s(t.$t("my.Exchangedate")))]),s("v-uni-view",{staticClass:"padding-top-xs text-blackblue text-center"},[t._v(t._s(t.submitDate))]),s("v-uni-view",{staticClass:"text-blackblue text-xsl text-center padding-top"},[s("v-uni-text",{staticClass:"cuIcon-roundcheckfill",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.closeSubmit.apply(void 0,arguments)}}})],1)],1)],1)],1),s("v-uni-view",{staticClass:"cu-modal",class:"doOk"==t.modalName?"show":""},[s("v-uni-view",{staticClass:"cu-dialog"},[s("v-uni-view",{staticClass:"cu-bar bg-white justify-end"},[s("v-uni-view",{staticClass:"content text-blackblue text-bold"},[t._v(t._s(t.$t("my.COMFIRMATION")))])],1),s("v-uni-view",{staticClass:"padding-xl"},[s("v-uni-view",{staticClass:"text-center text-blackblue text-bold text-xl"},[t._v(t._s(t.$t("my.ExchangeMoney")))]),s("v-uni-view",{staticClass:"text-center text-bold text-xxl margin-top",staticStyle:{color:"#0066ff"}},[s("v-uni-text",{staticClass:"margin-right-sm"},[t._v("$"+t._s(t.exchangeData[t.exScore]))])],1),s("v-uni-view",{staticClass:"cu-form-group text-blackblue text-bold text-lg",staticStyle:{"background-color":"unset","min-height":"80upx"}},[s("v-uni-view",{staticClass:"title"},[t._v(t._s(t.$t("my.Scoreconsumed"))+":")]),s("v-uni-view",{staticStyle:{flex:"1","text-align":"left"}},[s("v-uni-text",{staticStyle:{"text-decoration":"underline"}},[t._v(t._s(t.exScore))])],1)],1),s("v-uni-view",{staticClass:"grid col-2"},[s("v-uni-view",{staticClass:"padding-sm"},[s("v-uni-button",{staticClass:"cu-btn bg-gray lg block",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.hideModal.apply(void 0,arguments)}}},[t._v(t._s(t.$t("common.CANCEL")))])],1),s("v-uni-view",{staticClass:"padding-sm"},[s("v-uni-button",{staticClass:"cu-btn bg-blue lg block",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.confirmScore.apply(void 0,arguments)}}},[t._v(t._s(t.$t("common.CONFIRM")))])],1)],1)],1)],1)],1)],1)],1)},a=[]},bc3c:function(t,e,i){"use strict";(function(t){i("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("acd8");var s={data:function(){return{my_score:0,exScore:500,modalName:"",pay_id:"",mobile:"",username:"",id:"",email:"",monthList:[this.$t("month.January"),this.$t("month.February"),this.$t("month.March"),this.$t("month.April"),this.$t("month.May"),this.$t("month.June"),this.$t("month.July"),this.$t("month.August"),this.$t("month.September"),this.$t("month.October"),this.$t("month.November"),this.$t("month.December")],submitDate:"",scorelist:[],score_state_color:["text-gray","text-green","text-red"],score_state_text:[this.$t("my.Pending"),this.$t("my.Approved"),this.$t("my.Rejected")],exchangeData:[],score_rate:0,level:0}},onLoad:function(){this.getUserinfo(),this.getExchangeRule(),this.getscoreRecords()},methods:{getExchangeRule:function(){var e=this,i=this.$config.baseUrl+"score/get_score_list";this.$new_request(i).then((function(i){t.log(i.data),e.exchangeData=i.data.integral_exchange,e.score_rate=i.data.score_rate}))},getscoreRecords:function(){var t=this,e=this.$config.baseUrl+"score/get_score_records";this.$new_request(e).then((function(e){1==e.code&&(t.scorelist=e.data)}))},setScore:function(t){this.exScore=t.currentTarget.dataset.score},hideModal:function(){this.modalName=""},goBack:function(){uni.navigateBack({delta:1})},doOk:function(){0!=this.level?parseFloat(this.exScore)>parseFloat(this.my_score)?uni.showToast({title:this.$t("my.InsufficientScore"),icon:"error",mask:!0}):this.modalName="doOk":uni.showToast({title:this.$t("my.OnlyforVIP"),icon:"error",mask:!0})},confirmScore:function(){var t=this,e=this;uni.showLoading({title:this.$t("common.loading"),mask:!0});var i=e.$config.baseUrl+"score/exchange";e.$new_request(i,{score:e.exScore}).then((function(i){if(uni.hideLoading(),1==i.code){var s=new Date,a=s.getMonth(),n=s.getDate(),o=s.getFullYear();t.submitDate=t.monthList[a]+" "+n+","+o,t.modalName="submitSuccess"}else e.$util.msg(i.msg,{duration:4e3})}))},getUserinfo:function(){var e=this;uni.showLoading({title:this.$t("common.loading")});var i=this.$config.baseUrl+"user/get_user_info";this.$new_request(i).then((function(i){uni.hideLoading(),t.log(i.data),e.my_score=i.data.score,e.level=i.data.level,e.username=i.data.username,e.id=i.data.id,e.email=i.data.email,e.pay_id=i.data.pay_id,e.mobile=i.data.areacode+"-"+i.data.mobile}))},closeSubmit:function(){this.modalName="",this.getUserinfo(),this.getscoreRecords()}}};e.default=s}).call(this,i("5a52")["default"])},bc96:function(t,e,i){"use strict";i.r(e);var s=i("bc3c"),a=i.n(s);for(var n in s)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return s[t]}))}(n);e["default"]=a.a},d339:function(t,e,i){t.exports=i.p+"static/my/score_banner.jpg"}}]);